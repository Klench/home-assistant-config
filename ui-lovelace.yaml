title: Stenman

views:

################# HOME #################

  - icon: mdi:home-assistant
    cards:

      - type: glance
        state_color: false
        entities:
          - person.david
          - person.nellie
          - entity: sensor.plex_oden
            name: Plex
            icon: mdi:plex
            double_tap_action:
              action: navigate
              navigation_path: /lovelace/8
          - entity: sensor.outdoor_temperature
            double_tap_action:
              action: navigate
              navigation_path: /lovelace/4
          - alarm_control_panel.ajax_alarm_status
          - entity: sensor.car_status
            double_tap_action:
              action: navigate
              navigation_path: /lovelace/9
          - entity: sensor.sbw57s_battery_level
            name: 'Batteri'
          - entity: binary_sensor.sbw57s_battery_charging
            name: 'Status'
          - entity: sensor.sbw57s_range
            name: 'Räckvidd'
          - entity: switch.sbw57s_heater
            name: 'Klimat'
            card_mod:
              style: |
                :host {
                  {% if states('sensor.outdoor_temperature') | float > 15 %}
                  --card-mod-icon: mdi:air-conditioner;
                  {% else %}
                  --card-mod-icon: mdi:radiator;
                  {% endif %}
                }

      - type: entities
        title: Belysning
        show_header_toggle: false
        entities:
          - script.indoor_lights_bright
          - script.indoor_lights_relaxed
          - script.indoor_lights_low_brightness
          - type: conditional
            conditions:
              - entity: input_boolean.enable_advent_light_automations
                state: 'on'
            row:
              entity: script.advent_lights_turn_on
          - script.indoor_lights_off

      - type: entities
        title: Vardagsrum
        show_header_toggle: false
        entities:
          - script.livingroom_bright
          - script.livingroom_relaxed
          - light.livingroom_dinner_table
          - light.livingroom_couch_table
          - light.livingroom_floor
          - type: conditional
            conditions:
              - entity: input_boolean.enable_advent_light_automations
                state: 'off'
            row:
              entity: light.livingroom_window
          - type: conditional
            conditions:
              - entity: input_boolean.enable_advent_light_automations
                state: 'on'
            row:
              entity: light.livingroom_window
              name: 'Fönsterlampa'
              icon: mdi:star-david
          - type: conditional
            conditions:
              - entity: input_boolean.enable_advent_light_automations
                state: 'on'
            row:
              entity: light.livingroom_menorah
          - type: conditional
            conditions:
              - entity: input_boolean.enable_advent_light_automations
                state: 'on'
              - entity: light.livingroom_christmas_tree
                state: 'available'
            row:
              entity: light.livingroom_christmas_tree

      - type: entities
        title: Hall
        show_header_toggle: false
        entities:
          - entity: script.hallway_bright
            double_tap_action:
              action: perform-action
              perform_action: script.hallway_bottom_floor_bright
          - script.hallway_relaxed
          - light.hallway_ceiling_bottom_floor
          - light.hallway_ceiling_top_floor
          - entity: light.hallway_stair_group
            double_tap_action:
              action: perform-action
              perform_action: light.turn_off
              target:
                entity_id: light.hallway_stair_up

      - type: entities
        title: Sovrum
        show_header_toggle: false
        entities:
          - script.bedroom_bright
          - script.bedroom_relaxed
          - script.bedroom_low_brightness
          - script.bedroom_nursery_light
          - light.bedroom_ceiling
          - light.bedroom_bedside
          - type: conditional
            conditions:
              - entity: input_boolean.enable_advent_light_automations
                state: 'on'
            row:
              entity: light.bedroom_menorah

      - type: entities
        title: Barnrum
        show_header_toggle: false
        entities:
          - script.childroom_bright
          - script.childroom_relaxed
          - script.childroom_night_light
          - light.childroom_ceiling
          - light.childroom_led_strip
          - type: conditional
            conditions:
              - entity: input_boolean.enable_advent_light_automations
                state: 'on'
            row:
              entity: light.childroom_window

      - type: entities
        title: Arbetsrum
        show_header_toggle: false
        entities:
          - script.office_bright
          - script.office_relaxed
          - script.office_low_brightness
          - light.office_ceiling
          - light.office_desk
          - type: conditional
            conditions:
              - entity: input_boolean.enable_advent_light_automations
                state: 'off'
            row:
              entity: light.office_window
          - type: conditional
            conditions:
              - entity: input_boolean.enable_advent_light_automations
                state: 'on'
            row:
              entity: light.office_window
              icon: mdi:star-david

      - type: entities
        title: Kök
        show_header_toggle: false
        entities:
          - script.kitchen_bright
          - script.kitchen_relaxed
          - light.kitchen_table
          - light.kitchen_ceiling
          - type: conditional
            conditions:
              - entity: input_boolean.enable_advent_light_automations
                state: 'on'
            row:
              entity: light.kitchen_window
          - entity: switch.kitchen_coffee_maker
          - type: conditional
            conditions:
              - entity: timer.kitchen_coffee_maker
                state: 'active'
            row:
              entity: timer.kitchen_coffee_maker
              name: Timer
              type: custom:timer-bar-card

      - type: entities
        title: Badrum
        show_header_toggle: false
        entities:
          - script.bathroom_bright
          - script.bathroom_low_brightness
          - light.bathroom_ceiling
          - light.bathroom_mirror

      - type: custom:mini-media-player
        entity: media_player.spotify
        icon: mdi:spotify
        replace_mute: stop
        artwork: full-cover
        hide:
          volume: true
          power: true
          progress: true
        idle_view:
          when_idle: true
          when_paused: true
          when_standby: true

      - type: custom:mini-media-player
        entity: media_player.livingroom_apple_tv
        icon: mdi:television
        replace_mute: stop
        artwork: full-cover
        hide:
          volume: true
          power: true
          runtime: false
        idle_view:
          when_idle: true
          when_standby: true

      # - type: custom:list-card
      #   columns:
      #     - title: ' '
      #       field: day
      #     - field: food
      #       title: ' '
      #   entity: sensor.skolmaten_villanskolan
      #   feed_attribute: entries
      #   title: Matsedel Junibacken

      - type: entities
        title: Utomhus
        show_header_toggle: false
        entities:
          - script.turn_on_outdoor_lights
          - light.outdoor_main_entrance
          - light.outdoor_porch
          # - light.outdoor_front_ledstrip
          - binary_sensor.outdoor_shed_door

      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          title: Gästnätverk
          show_header_toggle: false
        filter:
          include:
            - domain: device_tracker
              state: home
              attributes:
                essid: "Stenman_guest"

################# SONOS #################

  - icon: mdi:speaker-wireless
    cards:

      - type: custom:mini-media-player
        entity: media_player.kitchen_sonos
        artwork: full-cover
        icon: mdi:speaker-multiple
        hide:
          power: true
          source: true
          shuffle: false
          volume_level: false
          runtime: false
        speaker_group:
          platform: sonos
          sync_volume: true
          expanded: true
          show_group_count: true
          entities:
            - entity_id: media_player.kitchen_sonos
              name: Kök
            - entity_id: media_player.livingroom_sonos
              name: Vardagsrum
            - entity_id: media_player.childroom_sonos
              name: Barnrum

      - type: custom:mini-media-player
        entity: media_player.livingroom_sonos
        artwork: cover
        icon: mdi:speaker
        volume_stateless: true
        volume_step: 3
        hide:
          power: true
          source: true
          shuffle: false
          volume_level: false
          runtime: false
        speaker_group:
          platform: sonos
          show_group_count: false
        shortcuts:
          label: Välj musik
          list:
            - name: Peaceful Guitar
              type: music
              id: spotify:playlist:37i9dQZF1DX0jgyAiPl8Af
            - name: Instrumentala vaggvisor
              type: music
              id: spotify:playlist:0AN9INqQysBuGphdxgkfkw
            - name: 'Disney Peaceful Piano: Lullaby'
              type: music
              id: spotify:album:2CE8v99s07pcaXQwOLYMlS
            - name: Piano worship
              type: music
              id: spotify:playlist:3zJnlFpxQ9s7VS5LSvbeSd
            - name: Piano dinner
              type: music
              id: spotify:playlist:37i9dQZF1DWZVU32KsYGUK
            - name: Baby sleep
              type: music
              id: spotify:playlist:37i9dQZF1DX0DxcHtn4Hwo
            - name: Be Held
              type: music
              id: spotify:album:36mfScdTe8zFlaHQAmIMuf
            - name: Lullaby Baby
              type: music
              id: spotify:album:49k5jl8u2iuxMU4iyczJ9M
            - name: Skyrim sleep
              type: music
              id: spotify:playlist:0cz5GpTRGnMYrqtEj3639f

      - type: custom:mini-media-player
        entity: media_player.childroom_sonos
        artwork: cover
        icon: mdi:speaker
        volume_stateless: true
        volume_step: 2
        hide:
          power: true
          source: true
          shuffle: false
          volume_level: false
          runtime: false
        speaker_group:
          platform: sonos
          show_group_count: false
        shortcuts:
          label: Välj musik
          list:
            - name: Rainy Day Piano
              icon: mdi:plex
              type: service
              id: media_player.play_media
              data:
                entity_id: media_player.childroom_sonos
                media_content_type: music
                media_content_id: 'plex://{"library_name": "Musik", "album_name": "Rainy Day Piano"}'
            - name: White Noise Lullabies
              icon: mdi:plex
              type: service
              id: media_player.play_media
              data:
                entity_id: media_player.childroom_sonos
                media_content_type: music
                media_content_id: 'plex://{"library_name": "Musik", "album_name": "Soothing Lullabies with White Noise"}'
            - name: Relaxing film music
              icon: mdi:plex
              type: service
              id: media_player.play_media
              data:
                entity_id: media_player.childroom_sonos
                media_content_type: music
                media_content_id: 'plex://{"library_name": "Musik", "album_name": "Relaxing film music"}'
            - name: Worship Lullabies
              icon: mdi:plex
              type: service
              id: media_player.play_media
              data:
                entity_id: media_player.childroom_sonos
                media_content_type: music
                media_content_id: 'plex://{"library_name": "Musik", "album_name": "Worship Lullabies"}'
            - name: Gentle Game Lullabies
              icon: mdi:plex
              type: service
              id: media_player.play_media
              data:
                entity_id: media_player.childroom_sonos
                media_content_type: music
                media_content_id: 'plex://{"library_name": "Musik", "album_name": "Gentle Game Lullabies"}'
            - name: Instrumental Lullabies
              icon: mdi:plex
              type: service
              id: media_player.play_media
              data:
                entity_id: media_player.childroom_sonos
                media_content_type: music
                media_content_id: 'plex://{"library_name": "Musik", "album_name": "Instrumental Lullabies"}'
            - name: Disney Guitar
              icon: mdi:plex
              type: service
              id: media_player.play_media
              data:
                entity_id: media_player.childroom_sonos
                media_content_type: playlist
                media_content_id: 'plex://{"library_name": "Musik", "playlist_name": "Disney Guitar"}'
            - name: Bamses godnattstund
              icon: mdi:spotify
              type: music
              id: spotify:album:5pwEdIxhI6cixxJecNvITG

      - type: conditional
        conditions:
          - entity: media_player.childroom_sonos
            state: 'playing'
          - entity: binary_sensor.childroom_sonos_is_grouped
            state: 'off'
        card:
          type: vertical-stack
          title: Timer sovrum
          cards:
            - type: horizontal-stack
              cards:
                - type: button
                  name: 'Start'
                  icon: mdi:play
                  tap_action:
                    action: perform-action
                    perform_action: script.bedroom_music_timer_start
                - type: button
                  name: 'Stopp'
                  icon: mdi:stop
                  tap_action:
                    action: perform-action
                    perform_action: script.bedroom_music_timer_cancel
                - type: entity
                  entity: sensor.bedroom_music_timer_minutes
            - type: entities
              entities:
                - entity: timer.childroom_music
                  name: Status
                  icon: mdi:timelapse
                  state_color: true
                  type: custom:timer-bar-card
                - input_number.bedroom_music_timer_minutes

      - type: entities
        title: Inställningar
        show_header_toggle: false
        entities:
          - type: section
            label: Vardagsrum
          - entity: switch.sonos_livingroom_night_sound
            state_color: true
          - entity: switch.sonos_livingroom_speech_enhancement
            state_color: true
          - number.sonos_livingroom_bass
          - type: section
            label: Kök
          - number.sonos_kitchen_bass
          - type: section
            label: Barnrum
          - number.sonos_childroom_bass

################# CAMERA #################

  - icon: mdi:cctv
    cards:

      - type: conditional
        conditions:
          - entity: switch.docker_frigate
            state: 'off'
        card:
          type: entities
          title: Aktivera Frigate
          entities:
            - switch.docker_frigate

      - type: custom:frigate-card
        live:
          auto_unmute:
            - selected
        menu:
          buttons:
            expand:
              enabled: true
        cameras:
          - camera_entity: camera.asgari_1
            live_provider: go2rtc
          - camera_entity: camera.deltaco_1
            live_provider: go2rtc

      - type: horizontal-stack
        cards:
          - type: vertical-stack
            cards:
              - type: markdown
                content: >
                  ### Uteplats
              - type: tile
                entity: camera.asgari_1
                show_entity_picture: true
                double_tap_action:
                  action: navigate
                  navigation_path: /config/devices/device/d455541e2b2ff477bd1a31ad1fcda320
              - type: tile
                entity: image.asgari_1_person
                show_entity_picture: true
              - type: tile
                entity: automation.person_detected_notify_davids_iphone
                name: Davids iPhone
                icon: mdi:cellphone-sound
              - type: tile
                entity: automation.person_detected_notify_nellies_iphone
                name: Nellies iPhone
                icon: mdi:cellphone-sound
              - type: tile
                entity: automation.person_detected_notify_sonos
                name: Högtalare
                icon: mdi:speaker-wireless
          - type: vertical-stack
            cards:
              - type: markdown
                content: >
                  ### Barnrum
              - type: tile
                entity: camera.deltaco_1
                show_entity_picture: true
                double_tap_action:
                  action: navigate
                  navigation_path: /config/devices/device/d855d561ee58d21e04921a812ba31a3a
              - type: tile
                entity: binary_sensor.deltaco_1_crying_sound
                name: Detekterat gråt
                icon: mdi:emoticon-cry-outline
                state_content:
                  - state
                  - last-changed
              - type: tile
                entity: automation.sound_detected_notify_davids_iphone
                name: Davids iPhone
                icon: mdi:cellphone-sound
              - type: tile
                entity: automation.sound_detected_notify_nellies_iphone
                name: Nellies iPhone
                icon: mdi:cellphone-sound

################# ROBOT VACUUM #################

  - icon: mdi:robot-vacuum-variant
    cards:

      - type: custom:vacuum-card
        entity: vacuum.neato_d7
        map: camera.neato_d7_cleaning_map
        stats:
          default:
            - attribute: clean_start
              subtitle: Starttid
            - attribute: clean_stop
              subtitle: Sluttid
            - attribute: clean_area
              unit: 'm2'
              subtitle: Cleaning area
          cleaning:
            - attribute: clean_start
              subtitle: Starttid
            - attribute: clean_area
              unit: 'm2'
              subtitle: Cleaning area

      - type: vertical-stack
        cards:
          - type: button
            entity: script.vacuum_clean_home_neato_d7
            name: Nuvarande våningsplan
            icon: mdi:floor-plan
            icon_height: '50px'
            tap_action:
              action: perform-action
              perform_action: script.vacuum_clean_home_neato_d7
          - type: horizontal-stack
            title: Ovanvåning
            cards:
              - type: button
                entity: script.vacuum_clean_bedroom_neato_d7
                name: Sovrum
                icon: mdi:bed-double-outline
                tap_action:
                  action: perform-action
                  perform_action: script.vacuum_clean_bedroom_neato_d7
              - type: button
                entity: script.vacuum_clean_childroom_neato_d7
                name: Barnrum
                icon: mdi:baby
                tap_action:
                  action: perform-action
                  perform_action: script.vacuum_clean_childroom_neato_d7
              - type: button
                entity: script.vacuum_clean_office_neato_d7
                name: Arbetsrum
                icon: mdi:desk
                tap_action:
                  action: perform-action
                  perform_action: script.vacuum_clean_office_neato_d7
              - type: button
                entity: script.vacuum_clean_hallway_neato_d7
                name: Hall
                icon: mdi:shoe-print
                tap_action:
                  action: perform-action
                  perform_action: script.vacuum_clean_hallway_neato_d7
          - type: horizontal-stack
            title: Bottenvåning
            cards:
              - type: button
                entity: script.vacuum_clean_entrance_neato_d7
                name: Entré
                icon: mdi:door
                tap_action:
                  action: perform-action
                  perform_action: script.vacuum_clean_entrance_neato_d7
              - type: button
                entity: script.vacuum_clean_livingroom_neato_d7
                name: Vardagsrum
                icon: mdi:sofa
                tap_action:
                  action: perform-action
                  perform_action: script.vacuum_clean_livingroom_neato_d7
              - type: button
                entity: script.vacuum_clean_kitchen_neato_d7
                name: Kök
                icon: mdi:silverware-fork-knife
                tap_action:
                  action: perform-action
                  perform_action: script.vacuum_clean_kitchen_neato_d7
          - type: entities
            show_header_toggle: false
            entities:
              - input_boolean.vacuum_eco_mode
              - input_boolean.vacuum_extra_care

################# WEATHER #################

  - icon: mdi:weather-partly-cloudy
    cards:

      - type: custom:hourly-weather
        entity: weather.smhi_hem
        num_segments: 16
        name: Timvis väder
        language: sv

      - type: custom:mini-graph-card
        entities:
          - sensor.outdoor_temperature
        name: 'Yttertemperatur'
        unit: '°C'
        line_color: '#5c8dd1'
        hour24: true
        animate: true
        decimals: 1
        points_per_hour: 1
        font_size_header: 18
        show:
          extrema: true
          labels: true
          fill: fade

      - type: weather-forecast
        entity: weather.smhi_hem
        forecast_type: daily

      - type: custom:horizon-card
        language: sv

################# WIFI #################

  - icon: mdi:wifi
    visible:
      - user: 107eee335bda4b4caf181a9d0310a3b0
    cards:

      - type: button
        entity: group.wifi

################# UNRAID #################

  - icon: mdi:server-network
    visible:
      - user: 53d03bf37feb464487d18a6c12a30efb
    cards:

      - type: entities
        title: Wake On LAN & Wi-Fi
        show_header_toggle: false
        entities:
          - switch.wol_vidar
          - switch.wol_rpi_3b
          - group.wifi

      - type: entities
        title: Unraid
        show_header_toggle: false
        entities:
          - entity: sensor.unraid_mnt_disk1_used_percent
            name: 'Diskanvändning disk 1'
          - entity: sensor.unraid_mnt_disk2_used_percent
            name: 'Diskanvändning disk 2'
          - entity: sensor.unraid_mnt_disk3_used_percent
            name: 'Diskanvändning disk 3'
          - entity: sensor.unraid_cpu_used
            name: 'Processoranvändning'
          - entity: sensor.unraid_ram_used_percent
            name: 'Ramanvändning'
          - entity: sensor.unraid_ram_used
            name: 'Ramanvändning'
          - entity: sensor.unraid_package_id_0_temperature
            name: 'Temperatur CPU'
          - entity: sensor.unraid_acpitz_0_temperature
            name: 'Temperatur moderkort'

      - type: custom:mini-graph-card
        name: Processoranvändning Oden
        icon: mdi:cpu-64-bit
        entities:
          - entity: sensor.unraid_cpu_used
            name: Processoranvändning Oden
            unit: '%'
            color: blue
            show:
              extrema: true
              labels: true
              fill: fade
              average: true
        hours_to_show: 12
        points_per_hour: 30
        hour24: true
        animate: true
        decimals: 0
        font_size_header: 18

      - type: custom:mini-graph-card
        name: Oden
        icon: mdi:server
        entities:
          - entity: sensor.unraid_package_id_0_temperature
            name: Temperatur CPU
            unit: '°C'
            color: blue
            show:
              extrema: true
              labels: true
              fill: fade
              average: true
          - entity: sensor.ups_power_delivery
            name: Effekt
            unit: W
            color: green
            show:
              extrema: true
              labels: true
              fill: fade
              average: true
        hours_to_show: 12
        points_per_hour: 5
        hour24: true
        animate: true
        decimals: 0
        font_size_header: 18

      - type: custom:auto-entities
        card:
          type: entities
          title: Unraid UPS
          show_header_toggle: false
        filter:
          include:
            - entity_id: "sensor.ups*"

      - type: custom:auto-entities
        card:
          type: entities
          title: Docker
          show_header_toggle: false
        entities:
          - sensor.docker_version
          - sensor.docker_1cpu
          - sensor.docker_memory
          - sensor.docker_containers_running
          - sensor.docker_containers_stopped
          - type: section
            label: Containers
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_plexmediaserver
            filter:
              include:
                - entity_id: "sensor.docker_plexmediaserver*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_frigate
            filter:
              include:
                - entity_id: "sensor.docker_frigate*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_traefik
            filter:
              include:
                - entity_id: "sensor.docker_traefik*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_authelia
            filter:
              include:
                - entity_id: "sensor.docker_authelia*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_redis
            filter:
              include:
                - entity_id: "sensor.docker_redis"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_nextcloud
            filter:
              include:
                - entity_id: "sensor.docker_nextcloud*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_wordpress
            filter:
              include:
                - entity_id: "sensor.docker_wordpress*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_pihole
              - switch.pi_hole
            filter:
              include:
                - entity_id: "sensor.docker_pihole*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_qbittorrentvpn
            filter:
              include:
                - entity_id: "sensor.docker_qbittorrentvpn*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_duplicati
            filter:
              include:
                - entity_id: "sensor.docker_duplicati*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_mariadb
            filter:
              include:
                - entity_id: "sensor.docker_mariadb*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_code_server_appdata
            filter:
              include:
                - entity_id: "sensor.docker_code_server_appdata*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_code_server_ha
            filter:
              include:
                - entity_id: "sensor.docker_code_server_ha*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_wyoming_piper
            filter:
              include:
                - entity_id: "sensor.docker_wyoming_piper*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_wyoming_whisper
            filter:
              include:
                - entity_id: "sensor.docker_wyoming_whisper*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_apacheguacamole
            filter:
              include:
                - entity_id: "sensor.docker_apacheguacamole*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_unifi_controller
            filter:
              include:
                - entity_id: "sensor.docker_unifi_controller*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_resilio_sync
            filter:
              include:
                - entity_id: "sensor.docker_resilio_sync*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_esphome
            filter:
              include:
                - entity_id: "sensor.docker_esphome*"
          - type: divider
          - type: custom:auto-entities
            card:
              type: entities
              show_header_toggle: false
            entities:
              - switch.docker_glances
            filter:
              include:
                - entity_id: "sensor.docker_glances*"

      - type: custom:zha-network-card
        title: ZHA
        clickable: true
        sort_by: available
        columns:
          - name: Name
            prop: name
          - attr: available
            id: available
            modify: x || "false"
            name: Online
          - attr: manufacturer
            name: Manufacturer
          - attr: model
            name: Model
          - attr: ieee
            name: IEEE
          - name: NWK
            prop: nwk
          - attr: rssi
            name: RSSI
          - attr: lqi
            name: LQI
          - attr: last_seen
            name: Last Seen
          - attr: power_source
            name: Power Source
          - attr: quirk_class
            name: Quirk

################# WAKEUP #################

  - icon: mdi:alarm
    cards:

      - type: entities
        title: Väckning
        show_header_toggle: false
        entities:
          - type: section
            label: 'Amning'
          - input_datetime.wakeup_nursery
          - entity: automation.wakeup_nursery
            name: 'Aktivera'
            icon: mdi:mother-nurse
          - type: section
            label: 'Vardagar'
          - input_datetime.wakeup_weekdays
          - entity: automation.wakeup_weekdays
            name: 'Aktivera'
          - input_boolean.childroom_wakeup
          - entity: automation.enable_sonos_alarm
            name: 'Sonos alarm'
          - input_boolean.wakeup_override
          - type: section
            label: 'Helgdagar'
          - input_datetime.wakeup_weekend
          - entity: automation.wakeup_weekend
            name: 'Aktivera'

################# TV #################

  - icon: mdi:television-classic
    visible:
      - user: 53d03bf37feb464487d18a6c12a30efb
    cards:

      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          title: Plex klienter
          show_header_toggle: false
        filter:
          include:
            - entity_id: "media_player.plex*"
            - entity_id: "sensor.plex_total_bandwidth"
              state: "> 0"
          exclude:
            - state: "inactive"
            - state: "unavailable"
            - state: "idle"

      - type: custom:upcoming-media-card
        entity: sensor.trakt_upcoming_calendar
        title: Kommande TV-serier
        clock: 24
        image_style: fanart
        hide_empty: true

################# CAR #################

  - icon: mdi:car
    cards:

      - type: vertical-stack
        cards:
          - type: glance
            entities:
              - entity: binary_sensor.sbw57s_door_lock
                name: Dörrar
              - entity: switch.sbw57s_heater
                name: 'Klimat'
                card_mod:
                  style: |
                    :host {
                      {% if states('sensor.outdoor_temperature') | float > 15 %}
                      --card-mod-icon: mdi:air-conditioner;
                      {% else %}
                      --card-mod-icon: mdi:radiator;
                      {% endif %}
                    }
              - entity: binary_sensor.sbw57s_engine
                name: Motor
                icon: mdi:engine
          - type: horizontal-stack
            cards:
              - type: conditional
                conditions:
                  - entity: lock.sbw57s_door_lock
                    state: 'locked'
                card:
                  type: button
                  name: 'Lås upp'
                  icon: mdi:lock-open-variant
                  tap_action:
                    action: perform-action
                    perform_action: lock.unlock
                    service_data:
                      entity_id: lock.sbw57s_door_lock
                    confirmation:
                      text: 'Vill du låsa upp bilen?'
              - type: conditional
                conditions:
                  - entity: lock.sbw57s_door_lock
                    state: 'unlocked'
                card:
                  type: button
                  name: 'Lås'
                  icon: mdi:lock
                  tap_action:
                    action: perform-action
                    perform_action: lock.lock
                    service_data:
                      entity_id: lock.sbw57s_door_lock
                    confirmation:
                      text: 'Vill du låsa bilen?'
              - type: conditional
                conditions:
                  - entity: switch.sbw57s_heater
                    state: 'off'
                card:
                  type: button
                  name: 'Klimat'
                  card_mod:
                    style: |
                      :host {
                        {% if states('sensor.outdoor_temperature') | float > 15 %}
                        --card-mod-icon: mdi:air-conditioner;
                        {% else %}
                        --card-mod-icon: mdi:radiator;
                        {% endif %}
                      }
                  tap_action:
                    action: perform-action
                    perform_action: switch.turn_on
                    service_data:
                      entity_id: switch.sbw57s_heater
                    confirmation:
                      text: 'Vill du starta förkonditionering?'
              - type: conditional
                conditions:
                  - entity: switch.sbw57s_heater
                    state: 'on'
                card:
                  type: button
                  name: 'Stoppa värmare'
                  icon: mdi:radiator-off
                  tap_action:
                    action: perform-action
                    perform_action: switch.turn_off
                    service_data:
                      entity_id: switch.sbw57s_heater
                    confirmation:
                      text: 'Vill du stänga av parkeringsvärmaren?'
              - type: button
                name: 'Starta motor'
                icon: mdi:engine
                tap_action:
                  action: perform-action
                  perform_action: switch.turn_on
                  service_data:
                    entity_id: switch.sbw57s_engine
                  confirmation:
                    text: 'Vill du starta motorn?'

      - type: entities
        title: Hybriddrivlina
        show_header_toggle: false
        entities:
          - sensor.sbw57s_battery_level
          - sensor.sbw57s_battery_range
          - binary_sensor.sbw57s_plug_status
          - binary_sensor.sbw57s_battery_charging
          - sensor.sbw57s_time_to_fully_charged

      - type: entities
        title: Översikt
        show_header_toggle: false
        entities:
          - binary_sensor.sbw57s_doors
          - binary_sensor.sbw57s_windows
          - binary_sensor.sbw57s_hood
          - binary_sensor.sbw57s_brake_fluid
          - binary_sensor.sbw57s_bulbs
          - binary_sensor.sbw57s_service
          - binary_sensor.sbw57s_washer_fluid
          - sensor.sbw57s_fuel_level
          - sensor.sbw57s_fuel_amount
          - sensor.sbw57s_range
          - sensor.sbw57s_fuel_consumption

      - type: entities
        title: Detaljer
        show_header_toggle: false
        entities:
          - sensor.sbw57s_last_trip
          - sensor.sbw57s_odometer
          - sensor.sbw57s_trip_meter_1
          - sensor.sbw57s_trip_meter_2
          - sensor.sbw57s_average_speed
          - binary_sensor.sbw57s_front_left_door
          - binary_sensor.sbw57s_front_right_door
          - binary_sensor.sbw57s_rear_left_door
          - binary_sensor.sbw57s_rear_right_door
          - binary_sensor.sbw57s_hood
          - binary_sensor.sbw57s_tailgate
          - binary_sensor.sbw57s_front_left_window
          - binary_sensor.sbw57s_front_right_window
          - binary_sensor.sbw57s_rear_left_window
          - binary_sensor.sbw57s_rear_right_window
          - binary_sensor.sbw57s_front_left_tire
          - binary_sensor.sbw57s_front_right_tire
          - binary_sensor.sbw57s_rear_left_tire
          - binary_sensor.sbw57s_rear_right_tire

################# QBITTORRENT #################

  - title: ''
    icon: mdi:download-network-outline
    visible:
      - user: 53d03bf37feb464487d18a6c12a30efb
    cards:

      - type: conditional
        conditions:
          - entity: sensor.qbittorrent_status
            state_not: 'idle'
        card:
          type: horizontal-stack
          cards:
            - type: custom:mini-graph-card
              entities:
                - entity: sensor.qbittorrent_down_speed
              name: 'Nedladdning'
              unit: 'KiB/s'
              icon: mdi:file-download-outline
              line_color: '#5c8dd1'
              hour24: true
              hours_to_show: 2
              animate: true
              decimals: 2
              points_per_hour: 60
              font_size_header: 18
              show:
                extrema: true
                labels: true
                fill: fade
            - type: custom:mini-graph-card
              entities:
                - entity: sensor.qbittorrent_up_speed
              name: 'Uppladdning'
              unit: 'KiB/s'
              icon: mdi:file-upload-outline
              line_color: '#5c8dd1'
              hour24: true
              hours_to_show: 2
              animate: true
              decimals: 2
              points_per_hour: 60
              font_size_header: 18
              show:
                extrema: true
                labels: true
                fill: fade

      # - type: entities
      #   title: Transmission
      #   show_header_toggle: false
      #   entities:
      #     - input_text.transmission_torrent_url
      #     - entity: sensor.transmission_active_torrents
      #       name: Aktiva torrents
      #       icon: mdi:play
      #     - entity: sensor.transmission_paused_torrents
      #       name: Pausade torrents
      #       icon: mdi:pause
      #     - entity: sensor.transmission_completed_torrents
      #       name: Slutförda torrents
      #       icon: mdi:check
      #     - entity: switch.transmission_turtle_mode
      #       name: Turtle mode
      #       icon: mdi:tortoise

      # - type: conditional
      #   conditions:
      #     - entity: binary_sensor.transmission_active
      #       state: 'on'
      #   card:
      #     type: horizontal-stack
      #     cards:
      #       - type: custom:mini-graph-card
      #         entities:
      #           - entity: sensor.transmission_down_speed
      #         name: 'Nedladdning'
      #         unit: 'MB/s'
      #         icon: mdi:file-download-outline
      #         line_color: '#5c8dd1'
      #         hour24: true
      #         hours_to_show: 2
      #         animate: true
      #         decimals: 2
      #         points_per_hour: 60
      #         font_size_header: 18
      #         show:
      #           extrema: true
      #           labels: true
      #           fill: fade
      #       - type: custom:mini-graph-card
      #         entities:
      #           - entity: sensor.transmission_up_speed
      #         name: 'Uppladdning'
      #         unit: 'MB/s'
      #         icon: mdi:file-upload-outline
      #         line_color: '#5c8dd1'
      #         hour24: true
      #         hours_to_show: 2
      #         animate: true
      #         decimals: 2
      #         points_per_hour: 60
      #         font_size_header: 18
      #         show:
      #           extrema: true
      #           labels: true
      #           fill: fade

      # - type: conditional
      #   conditions:
      #     - entity: binary_sensor.transmission_active
      #       state: 'on'
      #   card:
      #     type: custom:transmission-card

################# AUTOMATIONS #################

  - icon: mdi:robot-industrial
    cards:

      - type: entities
        title: Automationer
        show_header_toggle: false
        entities:
          - input_datetime.relaxed_mode
          - input_boolean.enable_hue_switch_hallway
          - input_boolean.enable_hue_motion_sensor_hallway
          - entity: automation.kitchen_coffee_maker_timer_start
            icon: mdi:coffee-maker
          - automation.wakeup_weekdays
          - automation.enable_sonos_alarm
          - automation.wakeup_weekend
          - automation.go_to_bed_weekdays
          - automation.go_to_bed_weekend
          - automation.evening_bright
          - automation.evening_relaxed
          - automation.hallway_bright
          - automation.child_room_night_light
          - input_boolean.enable_advent_light_automations
          - automation.sunset
          - input_boolean.window_lights_after_sunset
          - input_boolean.enable_away_lights
          - input_boolean.coming_home_turn_on_lights
          - automation.leaving_home
          - automation.watching_tv
          - automation.tv_off_group_speakers
          - input_boolean.enable_bathroom_floor_heater_automations

################# MEATER #################

  - icon: mdi:food-steak
    cards:

      - type: custom:auto-entities
        card:
          type: entities
          title: Meater
          show_header_toggle: false
        filter:
          include:
            - entity_id: "sensor.meater*"

################# CLIMATE #################

  # - icon: mdi:radiator
  #   cards:

  #     - type: entities
  #       title: Golvvärme badrum
  #       show_header_toggle: false
  #       entities:
  #         - input_boolean.bathroom_floor_heater_auto

  #     - type: thermostat
  #       entity: climate.bathroom_floor
  #       name: Termostat

# ################# ESPHome #################

#   - icon: mdi:developer-board
#     cards:

#       - type: entities
#         title: Badrum
#         show_header_toggle: false
#         entities:
#           - entity: binary_sensor.bathroom_door
#             name: 'Badrumsdörr'
#           - entity: light.bathroom_led
#             name: LED-belysning
#           - automation.closing_bathroom_door
#           - automation.opening_bathroom_door